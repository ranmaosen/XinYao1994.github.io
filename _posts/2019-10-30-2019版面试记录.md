---
layout:     post
title:      面试题汇总 ~ 2019年11月
subtitle:   History Blogs @ 2019/10/10
date:       2019-11-01
author:     baby joker
categories:	Java高级面试题
tags:	面试题
---
　　仅记录2019年11月面试过程中所遇到的面试题









### 1. JVM参数以及调优 ##

```java
loading...
```

### 2. RabbitMQ如何做数据补偿

```java
一.RabbitMQ如何保证消息不丢失？
	RabbitMQ一般来说很少丢失信息，但不能排除意外，为了保证我们系统的高级可用，必须做出更好更完善的措施保证系统稳定性。一般采用以下方法：
	1	消息持久化机制
	2	ACK确认机制
	3	设置集群镜像模式
	4	消息补偿机制
	
	第一种：消息持久化
	RabbitMQ的消息默认存放在内存上面。如果不特别声明设置，消息不会持久化保存到硬盘上面，如果节点重启或者crash掉，消息就会丢失。所以就要对消息进行持久化设置，以下设置缺一不可：
		①	Exchange设置持久化
		②	Queue设置持久化
		③	Message持久化发送：发送消息设置发送模式deliveryMode=2，代表持久化消息
		
	第二种：ACK确认机制
	多个消费者同事收取消息，比如消息接收到一半的时候，一个消费者死掉了（逻辑复杂事件太长，超时了或者消费被停机或者网络连接断开）如何能保证消息不丢？
	这种情况就要使用Message acknowledgment机制：就是消费端消费完成要通知服务端，服务端才会把消息从内存中删除
	这样就解决了，即使一个消费者出了问题，没有同步消息给服务端，还有其他的消费端去消费，保证了消息不会丢失
	
	第三种：设置集群镜像模式
	RabbitMQ三种部署模式：
		①	单节点模式：最简单，非集群模式，节点挂了，消息就不能用了。业务直接瘫痪，只能等待
		②	普通模式：默认的集群模式，某个节点挂了，该节点上的消息不能用，有影响的业务瘫痪，只能重启恢复可用（必须持久化消息）
		③	镜像模式：吧需要的队列做成镜像队列，存在于多个节点上，属于RabbitMQ的HA方案
		为什么设置奖项模式集群，因为队列的内容仅仅存在于某一节点上面，不会存在所有节点上面，所有节点仅仅存放消息结构和元数据。
	第四种：消息补偿机制
	为什么还要有消息补偿机制呢？消息还会丢失？没错，系统是一个复杂的环境，以上三种方案，基本可以保证消息的高可用，但还要保证其稳定性。
	比如：持久化消息，保存到硬盘过程中，当前队列节点挂了，存储节点硬盘又坏了，消息丢了，怎么办？
	现网网络环境复杂，未知情况过多，消息补偿机制需要建立在消息要写入的db日志，发送
```

### 3. String如何优化

```java

```

### 4. Eureka线上如何部署

```java

```

### 5. 类加载分几步，都干了什么事情

```java

```

### 6. 介绍一下java锁的分类，如何理解synchronize

```java

```

### 7. （重点）MySQL相关：

```java
InnoDB的数据结构
```

### 8. 生成唯一主键的方法、算法

```java

```

